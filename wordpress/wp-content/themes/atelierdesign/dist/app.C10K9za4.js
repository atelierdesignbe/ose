const g=document.querySelectorAll("[js-expand]");if(g.length>0){let a=function(t,e){t.querySelectorAll("[js-expand-item]").forEach(n=>n.style.transitionDelay=""),t.classList.remove("is-open"),e.classList.add("disabled");const i=t.querySelector("[js-expand-overflow]");i&&i.classList.add("is-opened"),setTimeout(()=>{t.style.display="",e.classList.remove("disabled","is-open"),i&&i.classList.remove("is-opened")},400),document.removeEventListener("click",t._outsideHandler),t._outsideHandler=null},c=function(t,e){t.style.display="flex",e.classList.add("is-open","disabled"),t.querySelectorAll("[js-expand-item]");const s=t.querySelector("[js-expand-overflow]");s&&s.classList.add("is-opened"),setTimeout(()=>{t.classList.add("is-open")},10),setTimeout(()=>{e.classList.remove("disabled")},300),setTimeout(()=>{s&&s.classList.remove("is-opened")},900),setTimeout(()=>{t._outsideHandler||(t._outsideHandler=function(i){!t.contains(i.target)&&!e.contains(i.target)&&a(t,e)},document.addEventListener("click",t._outsideHandler))},10)},p=function(t,e){e.classList.contains("is-open")?a(t,e):c(t,e)},r=function(){for(const t of g){const e=t.parentElement.querySelector("[js-expand-button]");e&&(e.classList.remove("is-open"),t.classList.remove("is-open"),e._mobileHandler&&(e.removeEventListener("click",e._mobileHandler),e._mobileHandler=null),e._handlerTarget&&e._handler&&(e._handlerTarget.removeEventListener("mouseover",e._handler),e._handler=null),e._closeOnLeaveTarget&&e._closeOnLeave&&(e._closeOnLeaveTarget.removeEventListener("mouseleave",e._closeOnLeave),e._closeOnLeave=null),e._handlerTarget=null,e._closeOnLeaveTarget=null)}},L=function(){for(const t of g){const e=t.getAttribute("js-expand"),s=t.parentElement.querySelector("[js-expand-button]");if(!s)continue;const i=s.parentElement;if(window.innerWidth<600){const n=u=>(u.preventDefault(),p(t,s),!1);s._mobileHandler=n,s.addEventListener("click",n);continue}if(e!=="mobile"){const n=()=>{s.classList.contains("is-open")||c(t,s)},u=o=>{!t.contains(o.relatedTarget)&&!s.contains(o.relatedTarget)&&a(t,s)};s._handler=n,s._handlerTarget=i,s._closeOnLeave=u,s._closeOnLeaveTarget=i,i.addEventListener("mouseover",n),i.addEventListener("mouseleave",u)}}};var b=a,S=c,T=p,_=r,q=L;let m;L(),window.addEventListener("resize",()=>{clearTimeout(m),m=setTimeout(()=>{r(),L()},200)})}const f=document.querySelector("[js-menu]"),v=document.querySelector("[js-menu-button]"),j=document.querySelector(".header");let h=!1;v&&v.addEventListener("click",()=>{h=!h,f.classList.add("is-disabled"),h?(f.style.display="flex",setTimeout(()=>{f.classList.add("is-open"),v.classList.add("is-open"),j.classList.add("menu-open")},20),setTimeout(()=>{f.classList.remove("is-disabled")},600)):(f.classList.remove("is-open"),v.classList.remove("is-open"),j.classList.remove("menu-open"),setTimeout(()=>{f.style.display="",f.classList.remove("is-disabled")},400))});const d=document.querySelector("[js-ajax]");if(d){let e=function(s=!1){s&&(r.style.transition="all .3s ease-out",r.style.transform="translateY(20px)",r.style.opacity="0");const i={...a,filters:JSON.stringify(a.filters)};fetch(ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(i)}).then(n=>n.json()).then(n=>{s?(r.innerHTML=n.html,r.style.transform="",r.style.opacity=1):r.innerHTML=`${r.innerHTML} ${n.html}`,r.querySelectorAll(".aos").forEach(o=>{o.classList.contains("animated")||o.classList.add("animated")}),a.hasPagination=n.hasPagination,console.log(n.hasPagination),c.querySelector("button")&&(n.hasPagination?c.querySelector("button").style="":c.querySelector("button").style.display="none");for(const o of Object.keys(n.filter))Object.entries(n.filter[o]).forEach(([l,x])=>{const y=d.querySelector(`[js-ajax-filter] [data-id="${l}"]`);y&&(x===0?y.classList.add("is-disabled"):y.classList.remove("is-disabled"))})})};var E=e;const m=d.getAttribute("js-ajax"),a={page:1,filters:{},hasPagination:!1,type:m,action:`filter_${m}`,none:ajax.nonce},c=d.querySelector("[js-ajax-pagination]"),p=d.querySelector("[js-ajax-reset]"),r=d.querySelector("[js-ajax-results]"),L=d.querySelectorAll("[js-ajax-filter]"),t='<svg class="@@:size-[12px] stroke-current stroke-[1px]" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><path d="M8.04289 0.5L0.5 8.04289M0.542893 0.5L8.08579 8.04289" stroke-linecap="round"></path></svg>';a.hasPagination=!!c.querySelector("button"),a.hasPagination&&c.querySelector("button").addEventListener("click",()=>{a.page+=1,e()}),L.forEach((s,i)=>{const n=s.getAttribute("js-ajax-filter");a.filters[n]="";const u=s.querySelectorAll("button");for(const o of u)o.addEventListener("click",()=>{a.filters[n]&&(d.querySelector(`[js-ajax-filter="${n}"] [data-id="${a.filters[n]}"]`).classList.remove("is-active"),p.querySelector(`button[data-filter="${n}"]`).remove());const l=document.createElement("button");l.innerHTML=`${o.dataset.name} ${t}`,l.classList.add("reset-label"),l.dataset.id=o.dataset.id,l.dataset.filter=n,p.appendChild(l),a.filters[n]=o.dataset.id,o.classList.add("is-active"),a.page=1,e(!0),l.addEventListener("click",()=>{d.querySelector(`[js-ajax-filter] [data-id="${l.dataset.id}"]`).classList.remove("is-active"),a.filters[l.dataset.filter]="",a.page=1,e(!0),l.remove()})})})}console.log("ðŸŽ¨ Atelier Design Theme loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("âœ… DOM ready")});
